
# This is inserted by configure
@makefile_header@

#FLAVOR=
FLAVOR=@nexus_flavor@

LIB=$(build_dir_lib)/libnexus$(FLAVOR).@LIBEXT@

MY_CFLAGS=$(ALL_CFLAGS) -I$(build_dir_inc)

MY_LDFLAGS=$(LIB) $(ALL_LDFLAGS) $(ALL_LIBS) 
MY_POSTPROCESSOR=@POST_PROCESSOR@


all:


#
# The rule from the old makefile was:
#
#   test_nx:  build_$(DEBUG_FLAVOR) test_nx.$(G_OFILE)
#          $(G_RM) -f test_nx
#          $(G_CC) $(MY_CFLAGS) $(G_DEBUG_CFLAGS) $(G_LDFLAGS) \
#              -o test_nx test_nx.$(G_OFILE) \
#              -L'.' $(LIBBASE)_$(DEBUG_FLAVOR).$(G_LIBFILE) \
#              $(PORTS0_LIB) $(G_CLIBS)
#          if [ "x$(G_POSTPROCESSOR)" != "x" ] ; then \
#              $(G_POSTPROCESSOR) ./test_nx ; \
#          fi
#   test_nx.$(G_OFILE): $(srcdir)/test_nx.c $(srcdir)/nexus.h
#          $(G_CC) $(MY_CFLAGS) $(G_DEBUG_CFLAGS) \
#              -c $(srcdir)/test_nx.c
#

test_nx: test_nx.o $(LIB)
	@RM@ -f test_nx
	$(CC) $(MY_CFLAGS) -o test_nx test_nx.o $(MY_LDFLAGS)
	if [ "x$(MY_POSTPROCESSOR)" != "x" ] ; then \
	    $(MY_POSTPROCESSOR) test_nx ; \
	fi

test_nx.o:	$(srcdir)/test_nx.c
	$(CC) $(MY_CFLAGS) -c $(srcdir)/test_nx.c

$(LIB):

install:

mostlyclean:

clean:
	$(RM) -rf *.@OFILE@ test_nx

distclean: clean
	${RM} -f config.* Makefile makefile_header stamp-h

