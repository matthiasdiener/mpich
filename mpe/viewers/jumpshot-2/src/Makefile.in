
# End User configurable options ###
SHELL = /bin/sh

@VPATH@
# Installation directories
prefix       = @prefix@
exec_prefix  = @exec_prefix@
bindir       = @bindir@
includedir   = @includedir@
libdir       = @libdir@
# Build directories
libbuild_dir = @libbuild_dir@
binbuild_dir = @binbuild_dir@
top_srcdir   = @top_srcdir@
srcdir       = @srcdir@

JC         = @JC@
JAR        = @JAR@
JAVA_LIBS  = @JAVA_LIBS@
SWING_LIBS = @SWING_LIBS@

GUI_HOME   = ..
GUI_LIBDIR = $(GUI_HOME)/lib

MAIN_LIB = jumpshot.jar

SRC = ApltFileDlg.java CanOptions.java ClogDisplay.java \
      ClogReader.java ColorUtil.java ColoredRect.java \
      HelpDlg.java ErrorDiag.java StateDlg.java MsgDlg.java \
      HistCanvas.java HistImage.java Histwin.java JProcess.java \
      Mainwin.java MyButton.java MyImage.java MyJPanel.java \
      MyTextField.java PHistCanvas.java PVertScaleCanvas.java \
      PrintCanvas.java PrintDlg.java ProcDlg.java ProcessState.java \
      ProgramCanvas.java ROUTINES.java RecordHandler.java \
      CONST.java FUNCTS.java RECORD.java \
      Info.java StateInfo.java ArrowInfo.java MtnInfo.java \
      CLOG_HEADER.java CLOG_STATE.java CLOG_ARROW.java CLOG_RAW.java \
      CLOG_DESC.java CLOG_CNAME.java CLOG_MSG.java \
      CLOG_COLL.java CLOG_COMM.java CLOG_COMM.java CLOG_EVENT.java \
      CLOG_FILE.java CLOG_SRC.java CLOG_TSHIFT.java \
      StateButtons.java SwingWorker.java VertScaleCanvas.java jumpshot.java

OBJ = $(SRC:.java=.class)

.SUFFIXES:	.java .class

CLASSPATH = $(JAVA_LIBS):$(SWING_LIBS):.

JFLAGS = -classpath $(CLASSPATH) -d . @JFLAGS@

ALL:	CLASSFILES $(MAIN_LIB)

CLASSFILES: $(SRC)
	$(JC) $(JFLAGS) $?

$(MAIN_LIB):
	$(JAR) cvf $@ *.class
	mv -f $@ $(GUI_LIBDIR)

clean:
	rm -f $(OBJ) $(MAIN_LIB) *.class core

rmlib:
	rm -f $(GUI_LIBDIR)/$(MAIN_LIB)

distclean: clean rmlib
	rm -f *.java.* 
	-rm -f Makefile
