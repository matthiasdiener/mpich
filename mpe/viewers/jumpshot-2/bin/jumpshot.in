#!/bin/sh

# Set JAVA environments
JAVA_HOME=@JAVA_HOME@
JAVA_LIBS=@JAVA_LIBS@
JVM=@JVM@

# Set PATH to Swing
SWING_LIBDIR=@swingbuild_dir@
SWING_LIBS=${SWING_LIBDIR}/swing.jar

# Set PATH to various jar's needed by the GUI
GUI_LIBDIR=@libbuild_dir@
GUI_HOME=${GUI_LIBDIR}/..
MAIN_LIB=${GUI_LIBDIR}/jumpshot.jar
IMAGES_LIB=${GUI_LIBDIR}/images.jar


if [ -z "${JAVA_HOME}" ] ; then
    echo "JAVA_HOME is NOT set!"
    exit 1
else
    export JAVA_HOME
    echo "JAVA_HOME is set. JAVA_HOME = "${JAVA_HOME}
fi

if [ -z "${SWING_LIBS}" -o "${SWING_LIBS}" = "/swing.jar" ]; then
    echo "SWING_LIBS is NOT set!  You are using Java 1.2 or 1.3, exit!"
    SWING_LIBS=""
    exit 1
else
    echo "SWING_LIBS is set. SWING_LIBS = "${SWING_LIBS}
fi

if [ -z "${GUI_LIBDIR}" -o "${GUI_LIBDIR}" = "/lib" ]; then
    echo "GUI_LIBDIR is NOT set!"
    exit 1
else
    echo "GUI_LIBDIR is set. GUI_LIBDIR = "${GUI_LIBDIR}
fi

# Check if SWING_LIBS or JAVA_LIBS have been set
if [ -n "${SWING_LIBS}" -a -n "${JAVA_LIBS}" ]; then
    CLASSPATH=${JAVA_LIBS}:${SWING_LIBS}:${MAIN_LIB}:${IMAGES_LIB}:${GUI_HOME}:.
else
    if [ -n "${JAVA_LIBS}" ]; then
        CLASSPATH=${JAVA_LIBS}:${MAIN_LIB}:${IMAGES_LIB}:${GUI_HOME}:.
    else
        CLASSPATH=${MAIN_LIB}:${IMAGES_LIB}:${GUI_HOME}:.
    fi
fi
export CLASSPATH

${JVM} -ms32m -mx256m jumpshot "$@"
