<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.2beta6 (1.42)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Statistical Preview</TITLE>
<META NAME="description" CONTENT="Statistical Preview">
<META NAME="keywords" CONTENT="TourStepByStep">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.2beta6">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="TourStepByStep.css">

<LINK REL="next" HREF="node4.html">
<LINK REL="previous" HREF="node2.html">
<LINK REL="up" HREF="TourStepByStep.html">
<LINK REL="next" HREF="node4.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html53"
  HREF="node4.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.gif"></A> 
<A NAME="tex2html51"
  HREF="TourStepByStep.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.gif"></A> 
<A NAME="tex2html45"
  HREF="node2.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.gif"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html54"
  HREF="node4.html">Statistics Viewer</A>
<B> Up:</B> <A NAME="tex2html52"
  HREF="TourStepByStep.html">A Tour of Jumpshot-3</A>
<B> Previous:</B> <A NAME="tex2html46"
  HREF="node2.html">Main Control Window</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00030000000000000000">
Statistical Preview</A>
</H1>

<P>
<BR>
<BR>


<P></P>
<DIV ALIGN="CENTER"><A NAME="fig:_preview"></A><A NAME="283"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure:</STRONG>
The Preview: View &amp; Frame Selector Window.</CAPTION>
<TR><TD>
<DIV ALIGN="CENTER"><!-- MATH
 $\resizebox*{0.9\textwidth}{!}{\includegraphics{pic/preview.ps}}$
 -->
<IMG
 WIDTH="500" HEIGHT="420" ALIGN="BOTTOM" BORDER="0"
 SRC="img2.gif"
 ALT="\resizebox*{0.9\textwidth}{!}{\includegraphics{pic/preview.ps}}"> </DIV>
<P>
<DIV ALIGN="CENTER"></DIV>

<P></TD></TR>
</TABLE>
</DIV><P></P>

<P>

<BR>
<BR>

<P>
The goal of the Statistical Preview is to help users select a frame for viewing.
It consists of two windows. The major window shown in Figure <A HREF="node3.html#fig:_preview"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.gif"></A>,
is titled ``View &amp; Frame Selector'', but is usually called ``Preview''.
It contains a graphical representation of all the activities going on during
the run of the program sppm. Activities in ``Preview'' are computed in
the following way. The whole duration of the job sppm is divided into 512 time
bins. For each time bin, there are counters for each state and arrow that occur
in the time bin. The counter of each state/arrow will be incremented by a statistical
weight that equals the ratio of the duration of state/arrow to the width of
time bin that the state/arrow is in. Because of this definition of the statistical
weight for each state/arrow, very short duration states or arrows become statistically
insignificant and will not contribute much to the accumulative activities of
all the states and arrows. The visual consequence is that states/arrows with
very short duration are not noticeable in ``Preview''. The graphical representation
of the activities of the logfiles is, by default, in accumulative histogram
mode, which can be turned on/off through the button selection sequence <I>Graph-&gt;Type-&gt;Bar</I>.
The other mode is the noncumulative curve mode which can be enabled by the button
selection sequence <I>Graph-&gt;Type-&gt;Line</I>. It is shown in Figure <A HREF="node3.html#fig:_preview_mode_line"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.gif"></A>.
Since it is noncumulative, as in histogram mode, it distinguishes the relative
importance of various states.

<P></P>
<DIV ALIGN="CENTER"><A NAME="fig:_preview_mode_line"></A><A NAME="285"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure:</STRONG>
Preview in non-accumulative curve mode.</CAPTION>
<TR><TD>
<DIV ALIGN="CENTER"><!-- MATH
 $\resizebox*{0.9\textwidth}{!}{\includegraphics{pic/preview_line.ps}}$
 -->
<IMG
 WIDTH="500" HEIGHT="420" ALIGN="BOTTOM" BORDER="0"
 SRC="img3.gif"
 ALT="\resizebox*{0.9\textwidth}{!}{\includegraphics{pic/preview_line.ps}}"> </DIV>
<P>
<DIV ALIGN="CENTER"></DIV>

<P></TD></TR>
</TABLE>
</DIV><P></P>
In the lower left-hand corner of ``Preview'', there is a ``Frame Information''
panel, which lists the number of frames in the logfile, <I>N</I>. In this case,
there are only 3 frames in the file. The frame size is determined by the program
that generates the slog files<A NAME="tex2html7"
  HREF="footnode.html#foot80"><SUP>4</SUP></A>. In general, the smaller the frame, the better the performance of Jumpshot-3
will be in refreshing the screen. But if an overly small frame size is used,
it will be increasingly difficult to navigate to the frame that is being selected.
And each frame will contain too little data for the user to form a coherent
overall picture of the code. Next to the label <I>Current Frame</I>, there is
a dialog box that shows the current frame index, which proceeds from <I>0</I>
to the last frame of the file, <I>N-1</I>, and is initialized to <I>0</I> when
the GUI starts. The user can change the frame index by typing in the dialog
box or through buttons in the ``Frame Operations'', where <I>Previous</I>
and <I>Next</I> buttons decrement and increment the frame index, respectively.
But the user is also allowed to click on the graphical display to select a frame
of interest. A red line will then show up in the graph to highlight the frame
selected. Currently the red line is located in the middle of the frame, so the
red line is moved nonuniformly along the x-axis. The redundancy in frame selection
operations allows the end user to fine tune which frame to view when the logfile
contains a lot of frames. For an MPI program running in a multithreaded environment
as in the AIX SMP box, the logfile may contain information about threads. In
that case, the ``Connectivity Options'' and ``View Options'' panels
become very useful. The user can choose different combinations of these options
to see how threads are dispatched and used in an MPI Program. More details will
be in the next section.

<P>

<P></P>
<DIV ALIGN="CENTER"><A NAME="fig:_preview_s_legends"></A><A NAME="287"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure:</STRONG>
The Legends of Preview</CAPTION>
<TR><TD>
<DIV ALIGN="CENTER"><!-- MATH
 $\resizebox*{0.3\textwidth}{!}{\includegraphics{pic/preview_legends.ps}}$
 -->
<IMG
 WIDTH="167" HEIGHT="284" ALIGN="BOTTOM" BORDER="0"
 SRC="img4.gif"
 ALT="\resizebox*{0.3\textwidth}{!}{\includegraphics{pic/preview_legends.ps}}"> </DIV>
<P>
<DIV ALIGN="CENTER"></DIV>

<P></TD></TR>
</TABLE>
</DIV><P></P>
Next to the ``Preview'' there is a smaller window titled ``Legend'',
which contains a set of radio buttons with different colors. They are tagged
with the names of the MPI and user-defined calls made in the code sppm. An illustration
of ``Legend'' is shown in Figure <A HREF="node3.html#fig:_preview_s_legends"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.gif"></A>. Below
the list of radio buttons there are <I>Select/Deselect</I>, <I>All</I>, <I>None,</I>
and <I>Change Color</I> buttons. 

<P>
``Preview'' and its corresponding ``Legend'' windows meant to be
used side by side to help you select frames that are of interest. If some of
the states displayed in the ``Preview'' seem useless or confusing, it
can be easily removed. First highlight the state through click on the name in
the ``Legend''; then click on <I>Select/Deselect</I> button to remove
them from ``Preview''. In Figure <A HREF="node3.html#fig:_preview_deselected_few_states"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.gif"></A>,
all MPI and system-related states are deselected in ``Preview'' to highlight
the user-defined states ``layout'', ``setup'', ``bdrys'' and
``glbl''. It becomes apparent that all the communications between the
user MPI processes are done in regular interval. Also, all communications(i.e.
arrows) are within the user-defined state ``bdrys''. Assume you are interested
in the behavior of the program between the last two instances of MPI_Allreduce.
Then you can simply click on <I>None</I> to deselect all the states and arrows,
highlight MPI_Allreduce, then click <I>Select/Deselect</I> to display only
MPI_Allreduce in the ``Preview''. Now click on any region between the
last two MPI_Allreduce's in the ``Preview''. Then the frame index is
changed from 0 to 2, and a red line is positioned in the middle of the frame
2 and is also between the last two instances of MPI_Allreduce. Now select the
properties of the frame to be viewed. Most end users who are interested in the
performance of the code sppm should select the <I>Connected States</I> option
with either <I>MPI-Process</I> or <I>Thread</I> view. If you are interested
in how the operating system dispatches threads among CPUs allocated for the
job, you may want to select the <I>Disconnected States</I> option in the <I>Processor</I>
view.

<P></P>
<DIV ALIGN="CENTER"><A NAME="fig:_preview_deselected_few_states"></A><A NAME="290"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure:</STRONG>
All MPI and OS-related states are
deselected in the ``Preview'' and ``Legend'' to highlight the user-defined
states and the communication among the processes.</CAPTION>
<TR><TD>
<DIV ALIGN="CENTER"><!-- MATH
 $\resizebox*{0.9\textwidth}{!}{\includegraphics{pic/preview_few.ps}}$
 -->
<IMG
 WIDTH="500" HEIGHT="420" ALIGN="BOTTOM" BORDER="0"
 SRC="img5.gif"
 ALT="\resizebox*{0.9\textwidth}{!}{\includegraphics{pic/preview_few.ps}}"> </DIV>
<P>
<DIV ALIGN="CENTER"></DIV>

<P>


<P>


<P>
<DIV ALIGN="CENTER"><!-- MATH
 $\resizebox*{0.3\textwidth}{!}{\includegraphics{pic/preview_legends_few.ps}}$
 -->
<IMG
 WIDTH="167" HEIGHT="317" ALIGN="BOTTOM" BORDER="0"
 SRC="img6.gif"
 ALT="\resizebox*{0.3\textwidth}{!}{\includegraphics{pic/preview_legends_few.ps}}"> </DIV>
<P>
<DIV ALIGN="CENTER"></DIV>

<P></TD></TR>
</TABLE>
</DIV><P></P>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html53"
  HREF="node4.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.gif"></A> 
<A NAME="tex2html51"
  HREF="TourStepByStep.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.gif"></A> 
<A NAME="tex2html45"
  HREF="node2.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.gif"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html54"
  HREF="node4.html">Statistics Viewer</A>
<B> Up:</B> <A NAME="tex2html52"
  HREF="TourStepByStep.html">A Tour of Jumpshot-3</A>
<B> Previous:</B> <A NAME="tex2html46"
  HREF="node2.html">Main Control Window</A>
<!--End of Navigation Panel-->

</BODY>
</HTML>
