
##### User configurable options #####

ARCH        = @ARCH@
COMM        = @COMM@
CC          = @CC@
CLINKER     = @CC@
MPIR_HOME   = @MPIR_HOME@
OPTFLAGS    = -g
#
LIB_PATH    = @LIB_PATH@ @X_LIB@
MPE_DIR     = @MPE_DIR@
MPE_LIBS    = @MPE_LIBS@
LIB_LIST    = @LIB_LIST@
#
INCLUDE_DIR =  -I$(MPIR_HOME)/include -I@MPE_DIR@

### End User configurable options ###

CFLAGS  =  @USER_CFLAGS@ $(OPTFLAGS) $(INCLUDE_DIR) -DMPI_$(ARCH) $(MPE_GRAPH)
FFLAGS =  $(INCLUDE_DIR) $(OPTFLAGS)
LIBS = $(LIB_PATH) $(LIB_LIST)
FLIBS = $(FLIB_PATH) $(LIB_LIST)
EXECS =  life_g

default: $(EXECS)

life_g:	life_g.o $(MPIR_HOME)/include/mpi.h $(MPE_DIR)/mpe.h
	$(CLINKER) $(OPTFLAGS)  -o life_g life_g.o \
	$(LIB_PATH)  $(MPE_LIBS) $(LIB_LIST) -lm

clean:
	/bin/rm -f *.o *~ PI* $(EXECS)

.c.o:
	$(CC) $(CFLAGS) -c $*.c
.f.o:
	$(F77) $(FFLAGS) -c $*.f
