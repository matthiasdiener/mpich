.TH ADI 5 "8/23/1995" " " "ADI"
.SH NAME
ADI Parameters - Compile-time parameters for the ADI

The ADI makes use of a number of compile-time parameters both to decide
what to do and to indicate to the MPICH code what capabilities it has.
In addition, specific implementations of the ADI also make use of
compile-time parameters.  They are all documented here.

.SH PARAMETERS FOR THE ADI
These parmeters apply to any ADI, independant of implementation.

.PD 0
.TP
.B MPID_CAN_SEND_CONTIG 
- Obsolete; ignored
.PD 1
.PD 0
.TP
.B MPID_HAS_HETERO 
- If set, environment is heterogeneous
.PD 1
.PD 0
.TP
.B MPID_DEVICE_CODE 
- If set, indicates compiling the ADI itself.  Should
NOT be set when compiling the routines in mpich/src/* .
.PD 1
.PD 0
.TP
.B MPID_NEEDS_WORLD_SRC_INDICES 
- If set, indicates that the Probe routines
need "rank in world" instead of "rank in communicator".  This is used in
mpid/meiko . 
.PD 1
.PD 0
.TP
.B MPID_PACK_IN_ADVANCE	
- If set, asks the MPI routines to give the
ADI only contiguous data.  Currently, all devices set this.
.PD 1
.PD 0
.TP
.B MPID_RETURN_PACKED 
- Receive counterpart of 
.I MPID_PACK_IN_ADVANCE

.PD 1

.SH PARAMETERS FOR THE CHAMELEON VERSION OF THE ADI
These parameters apply to the version of the ADI in mpid/chameleon, and
to the ones derived from it (mpid/ch_*).

.PD 0
.TP
.B MPID_DEBUG_ALL 
- If set, include code (switchable at runtime) for
debugging 
.PD 1
.PD 0
.TP
.B MPID_HAS_SHARED_MEM 
- If set, environment has shared memory.  
Intended only for collective routines
.PD 1
.PD 0
.TP
.B MPID_H_INC 
- Used to protect include file if included twice
.PD 1
.PD 0
.TP
.B MPID_HAS_DEBUG 
- If set, ADI has some debugging features
.PD 1
.PD 0
.TP
.B MPID_LIMITED_BUFFERS 
- Indicates an underlying message-passing system
with small buffers (like IBM MPL); causes the ADI to be more aggressive
about polling for incoming messages 
.PD 1
.PD 0
.TP
.B MPID_TEST_SYNC 
- For debugging only (of synchronous messages)
.PD 1
.PD 0
.TP
.B MPID_TINY_BUFFERS 
-If set, underlying message passing system has
essentially no buffering (this is more strict that 
.I MPID_LIMITED_BUFFERS
)
.PD 1
.PD 0
.TP
.B MPID_USE_GET 
- If set, use shared memory operations
.PD 1
.PD 0
.TP
.B MPID_USE_SEND_BLOCK 
- If set, use a special send routine that may block
when possible. Used in mpid/ch_cmmd to conserve tports.
.PD 1

.SH PARAMETERS FOR THE CHANNEL VERSION OF THE ADI
The following all refer to the "channel" interface and control details of
the message packets that are sent.

.PD 0
.TP
.B MPID_CACHE_ALIGN 
- Used for shared memory; requests that shared memory
locks be cached aligned 
.PD 1
.PD 0
.TP
.B MPID_PKT_DEF 
- Protects include file
.PD 1
.PD 0
.TP
.B MPID_PKT_DYNAMIC_RECV,MPID_PKT_DYNAMIC_SEND 
- 
These two indicate whether send/receive routines take address of packet or
packet.  Used only in the shared memory version
.PD 1
.PD 0
.TP
.B MPID_PKT_GALLOC 
- If set, provides a global allocation of a packet
.PD 1
.PD 0
.TP
.B MPID_PKT_GET_NEEDS_ACK 
- If set, the shared-memory "get" operation
requires an acknowledgement (for example, if a single address space is
used) 
.PD 1
.PD 0
.TP
.B MPID_ADI_MUST_SENDSELF 
- If set, the ADI handles the case of sending a 
message from one process to the same process with special code, bypassing
the channel interface code.
.PD 1


.SH PACKET FEATURES
These provide optional declarations in a packet for the length of a packet,
a link (shared memory), and the source (sending process).  Used in shared
memory and raw tcp.  The "INCLUDE" versions define DECL/SET/GET versions.
.PD 0
.TP
.B MPID_PKT_INCLUDE_LEN 
- Include a packet size field (
.I int pkt_len:32
) 
in the packet definition
.PD 1
.PD 0
.TP
.B MPID_PKT_INCLUDE_LINK 
- Include a link field (
.I union _MPID_PKT_T *next
)
in the packet definition
.PD 1
.PD 0
.TP
.B MPID_PKT_INCLUDE_SRC 
- Include a source in 
.I MPI_COMM_WORLD
 field (
.I int
src:32
) in the packet definition.
.PD 1
.PD 0
.TP
.B MPID_PKT_LEN_DECL 
- Appears in the packet definition; contains the actual
declaration (if any).  For internal use only.
.PD 1
.PD 0
.TP
.B MPID_PKT_LINK_DECL 
- Appears in the packet definition; contains the actual
declaration (if any).  For internal use only.
.PD 1
.PD 0
.TP
.B MPID_PKT_SRC_DECL 
- Appears in the packet definition; contains the actual
declaration (if any).  For internal use only.
.PD 1

.PD 0
.TP
.B MPID_PKT_PRIVATE 
- Used to add "private" data at the 
.B top
 of the packet.
Used in some shared memory versions.
.PD 1

.PD 0
.TP
.B MPID_PKT_XDR_DECL 
- Used to define a flag for heterogeneous support
(message is using XDR) 
.PD 1
