This directory contains programs that are part of the mpptest performance
test suite.  By default, they generate output for the C.It graphics program;
the -gnuplot option will generate data for Gnuplot.  Because of limitations
of Gnuplot, the full generality of these commands is not supported when
gnuplot output is selected.

Two scripts have been provided to generate data:

runmpptest - point-to-point tests and collective as a function of data length
rungoptest - collective as a function of the number of processes

To get an idea about your system, do (assuming a 32 processor system)

runmpptest -short -pair -blocking -givedy -gnuplot -fname pt2pt.mpl
runmpptest -np 32 -bisect -short -blocking -gnuplot -fname bisect.mpl
rungoptest -maxnp 32 -add -bcast -gnuplot -fname bcast.mpl

Then

gnuplot pt2pt.mpl
gnuplot bisect.mpl
gnuplot bcast.mpl

will generate plots of the performance of MPI_Send/MPI_Recv, (point to point
and bisection bandwidth) and MPI_Bcast.  These routines may be used for 
additional testing.  For example,

runmpptest -long -pair -nonblocking -givedy -gnuplot -fname nbpt2pt.mpl

will give the performance of the nonblocking MPI routines with long messages.


In addition, mpptest and goptest may be used alone.  Both take -help and give
a summary of options.  For example, 

mpptest -sz 2 -cachesize 1000000

causes the messages to be taken from a buffer of size 1000000, reducing the 
reuse of memory locations.

The copytest program gives a rough estimate of how fast memcpy works in a
single address space.  To use

mpirun -np 1 copytest

This copies data from one place to another three times; the first copy
may take longer because of the need to page in (and possibly initialize to
zero) data.  If the data cache is large enough, the second and third copies
may be faster than expected.

(You need to use mpirun because copytest uses MPI_Wtime to get times)
